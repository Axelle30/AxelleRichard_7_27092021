CREATE DATABASE GroupoForumDb CHARACTER SET 'utf8';
CREATE USER 'GroupomaniaClientDbUser'@'localhost' IDENTIFIED BY 'a4kvbQaTrJFCVyqGDS97';
GRANT ALL PRIVILEGES ON GroupoForumDb.* TO 'GroupomaniaClientDbUser'@'localhost';
USE GroupoForumDb;
CREATE TABLE IF NOT EXISTS user (
	id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
	pseudo VARCHAR(32) NOT NULL,
	email VARCHAR(50) NOT NULL,
	password VARCHAR(32) NOT NULL,
	PRIMARY KEY (id)
)
ENGINE=INNODB;
CREATE TABLE IF NOT EXISTS thread (
	id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
	user_id SMALLINT UNSIGNED NOT NULL,
	title VARCHAR(50) NOT NULL,
	message VARCHAR(255) NOT NULL,
	datetime DATETIME NOT NULL,
	PRIMARY KEY (id),
	CONSTRAINT fk_user_id_thread
		FOREIGN KEY (user_id)
		REFERENCES user(id)
)
ENGINE=INNODB;
ALTER TABLE user
MODIFY id SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT;
